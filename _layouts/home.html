---
layout: default
---
  <ul class="years-list">
    {% for favYear in site.data.favorites %}
        <li class="years-list__item">
            <div class="year-block">
                <h2 class="year-block__title">{{ favYear.year }}</h2>
                <div class="year-block__projector" style="background-image: url({{ "/assets/" | relative_url}}covers/{{favYear.year}}/css_sprites.png);">
                    <!-- <img src="{{"/assets/" | relative_url }}covers/{{ favYear.year }}/sprite.png"> -->
                </div>
                <ul class="album-list">
                    {% assign albums = favYear.list | sort:"artist" %}
                    {% for albumItem in albums %}
                        <li class="album-list__item {% if albumItem.favorite %}year-block__item--favorite{% endif %}">
                            {% comment %}
                                source: https://pagecrafter.com/responsive-background-image-sprites-css-tutorial/
                                increment formula for responsive bg images: 100% / (10 - 1)
                            {% endcomment %}
                            {% if albumItem.sprite_position == 0 %}
                                {% capture bgPos %}0{% endcapture %}
                            {% elsif albumItem.sprite_position == 9 %}
                                {% capture bgPos %}100{% endcapture %}
                            {% else %}
                                {% assign sprite_position = albumItem.sprite_position %}
                                {% assign sprite_increment = 100 | divided_by: 9.0 %}
                                {% assign bgPos = sprite_position | times: sprite_increment %}
                            {% endif %}
                            <div class="album" data-album="{{ albumItem.album }}" data-artist="{{ albumItem.artist }}" style="background-image: url({{ "/assets/" | relative_url}}covers/{{favYear.year}}/css_sprites.png); background-position: 0% {{ bgPos }}%;"></div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </li>
    {% endfor %}
  </ul>
